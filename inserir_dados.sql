-- Animais principais
INSERT INTO pedigree (animal, pai, mae, internacional, nascimento, origem) VALUES
('AX12345', NULL, NULL, 'HOLBAXM000000012345', 2010, 'BRA'),                
('BR45678', NULL, NULL, 'HOLBBRF000000045678', 2011, 'BRA'),           
('BX56478', NULL, NULL, 'HOLBBXM000000056478', 2012, 'CAN'),               
('BR67890', 'AX12345', 'BR45678', 'HOLBBRM000000067890', 2014, 'BRA'),     
('AX13579', 'AX12345', 'BR45678', 'HOLBAXF000000013579', 2016, 'USA'),     
('BF24680', 'AX12345', 'BR45678', 'HOLBBFF000000024680', 2018, 'CAN'),  
('BM97531', 'BX56478', 'BF24680', 'HOLBBMM000000097531', 2020, 'BRA'),     
('US86420', NULL, 'BR45678', 'HOLUSAF000000086420', 2016, 'USA'),           
('CA15926', 'AX12345', 'US86420', 'HOLCANF000000015926', 2018, 'CAN'),      
('NL48729', 'BM97531', 'CA15926', 'HOLNLDF000000048729', 2022, 'NLD'),      
('BR11235', 'NL48729', 'AX13579', 'HOLBBRF000000011235', 2024, 'BRA'),      
('BF78345', 'BM97531', 'US86420', 'HOLBBFF000000078345', 2022, 'USA'),     
('BM98612', 'BX56478', 'BF78345', 'HOLBBMM000000098612', 2024, 'BRA'),      
('AX19283', NULL, 'BR45678', 'HOLBAXF000000019283', 2016, 'USA'),      
('BR37465', NULL, NULL, 'HOLBBRF000000037465', 2022, 'BRA'),          
('US94736', NULL, NULL, 'HOLUSAF000000094736', 2018, 'USA'),                
('CA18291', 'AX19283', 'US94736', 'HOLCANF000000018291', 2021, 'CAN'),      
('NL37495', 'CA15926', 'BR37465', 'HOLNLDF000000037495', 2024, 'NLD'),      
('BR81927', NULL, 'CA15926', 'HOLBBRF000000081927', 2022, 'BRA'),      
('BX47261', NULL, NULL, 'HOLBBXF000000047261', 2022, 'BRA'),           
('BF95123', 'BR81927', NULL, 'HOLBBFF000000095123', 2024, 'CAN');           


INSERT INTO pedigree (animal, pai, mae, internacional, nascimento, origem) VALUES
('AX1', NULL, 'BR45678', 'HOLBAXM000000000001', 2014, 'BRA'),
('AX2', NULL, 'BR45678', 'HOLBAXM000000000002', 2014, 'BRA'),
('AX3', NULL, 'BR45678', 'HOLBAXM000000000003', 2014, 'BRA'),
('AX4', NULL, 'BR45678', 'HOLBAXM000000000004', 2014, 'BRA'),
('AX5', NULL, 'BR45678', 'HOLBAXM000000000005', 2014, 'BRA'),
('AX6', NULL, 'BR45678', 'HOLBAXM000000000006', 2014, 'BRA'),
('AX7', NULL, 'BR45678', 'HOLBAXM000000000007', 2014, 'BRA'),
('AX8', NULL, 'BR45678', 'HOLBAXM000000000008', 2014, 'BRA'),
('AX9', NULL, 'BR45678', 'HOLBAXM000000000009', 2014, 'BRA'),
('AX10', NULL, 'BR45678', 'HOLBAXM000000000010', 2014, 'BRA'),
('AX11', NULL, 'BR45678', 'HOLBAXM000000000011', 2014, 'BRA'),
('AX12', NULL, 'BR45678', 'HOLBAXM000000000012', 2014, 'BRA'),
('AX13', NULL, 'BR45678', 'HOLBAXM000000000013', 2014, 'BRA'),
('AX14', NULL, 'BR45678', 'HOLBAXM000000000014', 2014, 'BRA'),
('AX15', NULL, 'BR45678', 'HOLBAXM000000000015', 2014, 'BRA');



CREATE TABLE producao(
    animal VARCHAR(20) NOT NULL REFERENCES pedigree(animal),
    lactacao INTEGER NOT NULL,
    controle INTEGER NOT NULL,
    peso INTEGER NOT NULL,
    proteina INTEGER NOT NULL,
    gordura INTEGER NOT NULL,
    acs INTEGER NOT NULL,
    PRIMARY KEY (animal, lactacao, controle)
);

INSERT INTO producao VALUES ('BF95123', 1, 1, 50, 32, NULL, 1264);
INSERT INTO producao VALUES ('BF95123', 1, 2, 24.3, 12.1, 12.34, 3465.21);
INSERT INTO producao VALUES ('BF95123', 1, 4, 124.3, 62.1, 82.34, 13465.21);
INSERT INTO producao VALUES ('BF95123', 1, 8, 27.2, 15.1, 11.34, 365.42);


INSERT INTO caracteristica_lactacao VALUES ('BF95123', 1, 1, 1, NULL, NULL);
INSERT INTO caracteristica_lactacao VALUES ('BF95123', 1, 2, 1, NULL, NULL);
INSERT INTO caracteristica_lactacao VALUES ('BF95123', 1, 4, 1, NULL, NULL);
INSERT INTO caracteristica_lactacao VALUES ('BF95123', 1, 8, 3, 'morte', NULL);


INSERT INTO producao VALUES ('BR81927', 1, 1, 150, 42.8, NULL, 1264);
INSERT INTO producao VALUES ('BR81927', 1, 4, 54.3, 112.1, 8.34, 665.21);
INSERT INTO producao VALUES ('BR81927', 1, 5, 84.3, NULL, 63.34, 12465.21);
INSERT INTO producao VALUES ('BR81927', 1, 6, 24.3, 12.3, 3.34, 1465.21);
INSERT INTO producao VALUES ('BR81927', 1, 7, 67.2, 47.1, NULL, NULL);
-- INSERT INTO producao VALUES ('BR81927', 3, 7, 67.2, 47.1, NULL, NULL);

INSERT INTO caracteristica_lactacao VALUES ('BR81927', 1, 1, 1, NULL, NULL);
INSERT INTO caracteristica_lactacao VALUES ('BR81927', 1, 4, 2, NULL, NULL);
INSERT INTO caracteristica_lactacao VALUES ('BR81927', 1, 5, 2, 'doença', '12-08-2024');
INSERT INTO caracteristica_lactacao VALUES ('BR81927', 1, 6, 2, 'doença', '13-08-2024');
INSERT INTO caracteristica_lactacao VALUES ('BR81927', 1, 7, 3, NULL, NULL);

UPDATE caracteristica_lactacao 
SET causa = 'doença' 
WHERE (animal = 'BR81927' AND controle = 7);
 

INSERT INTO produtor VALUES ('Ral Rodrigues Alves',  666, '32988776655');
INSERT INTO produtor VALUES ('Zabala Avila',  3000, '32456789012');
 
-- INSERT INTO rebanho VALUES ('BR81927', 1234, 666, 'arido', 'automatica');
INSERT INTO rebanho VALUES (1234, 666, 'arido', 'automatica');

INSERT INTO empresa_genotipagem VALUES ('Empresa 1', 0258369, '32988552233', 'Brasil');

INSERT INTO pedido VALUES ('HOLBBRF000000081927', 123456, 0258369, 666);
INSERT INTO pedido VALUES ('HOLBBFF000000078345', 123456, 0258369, 666); -- mas esse nao tem genotipage,
INSERT INTO pedido VALUES ('HOLBBFF000000095123', 123456, 0258369, 3000); -- mas esse nao tem genotipage,

INSERT INTO genotipagem VALUES ('HOLBBRF000000081927', 123456, 
'012521502525501251021512012512021502150512025102515202150202151202121202121512021512022002121511212120');



INSERT INTO compra_animal (animal, comprador, vendedor, valor) VALUES ('BR81927', 666,  3000, 425000);

UPDATE pedigree 
SET internacional = 'HOLUSAM000098765454' 
WHERE (animal = 'AX12345');

INSERT INTO alias VALUES ('HOLUSAM000098765454' ,'HOLNLDM000021451200');


INSERT INTO compradores_leite VALUES ('15' ,'Zezim compra leite', '12345678912');


INSERT INTO compra_leite VALUES ('15' , 666, 250, '13-09-2024', 12);
INSERT INTO compra_leite VALUES ('15' , 666, 2500, '08-09-2024', 8);


INSERT INTO fornecedor_alimento VALUES ('98', '32329323232');

INSERT INTO compra_alimento VALUES ('98', '666', 'Capim');



CREATE TABLE mapa (
    internacional CHAR(19) NOT NULL UNIQUE REFERENCES genotipagem(internacional),
    alelo INTEGER NOT NULL,
    posicao INTEGER NOT NULL,
    marcador VARCHAR(50) NOT NULL,
    PRIMARY KEY (internacional, alelo, posicao, marcador)
);


INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 1, 'A-X-31');
-- INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 1, 'asd'); -- erro proposital
INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 2, 'BC-15');
INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 3, 'ASX-31');
INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 4, 'LP14');
INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 5, 'MV987');
INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 6, 'BML21');
INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 7, 'QW1');
INSERT INTO mapa VALUES ('HOLBBRF000000081927', 1, 8, 'QXC4');


INSERT INTO pedigree (animal, pai, mae, internacional, nascimento, origem) VALUES
('AX12345', NULL, NULL, 'HOLBAXM000000012345', 2010, 'BRA')

UPDATE pedigree 
SET rebanho = 1234 
WHERE animal = 'BR81927';

UPDATE pedigree 
SET rebanho = 1234 
WHERE animal = 'AX12345';

UPDATE pedigree 
SET rebanho = 1234 
WHERE animal = 'BF95123';


INSERT INTO producao VALUES ('BR45678', 1, 1, 27.2, 37.9, 25, 126); 
INSERT INTO rebanho VALUES(22, 3000, 'tropical', 'manual');
INSERT INTO compra_alimento VALUES(98, 3000, 'soja');

UPDATE pedigree 
SET rebanho = 22 
WHERE animal = 'BR45678';

UPDATE caracteristica_lactacao 
SET causa = 'acidente', previsao_volta = '01-05-2024'   
WHERE animal = 'BR81927' AND lactacao = 1 AND controle = 4;
